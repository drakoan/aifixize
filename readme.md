# aifixize - AI-Powered Code Fixer (Joke Edition)

![Idea](https://github.com/drakoan/aifixize/raw/master/images/idea.jpg)

## Description

This repository contains a humorous JavaScript implementation called `aifixize`, designed to automatically fix broken functions using an AI-powered service (simulated via the `OpenAI.chat` function). The code is a playful experiment that demonstrates a recursive approach to error handling and code correction, relying on AI to iteratively improve faulty functions. Note that this is a joke project and should not be used in production or for serious purposes.

The main function, `aifixize`, takes a function as input and attempts to execute it. If an error occurs, it uses the `fixAndRetry` helper to generate a corrected version of the code via an AI call. The process involves two other utility functions: `attemptCall`, which tries to execute the original function, and `attemptEval`, which evaluates code strings returned by the AI. The system recursively calls itself until either the function works or a maximum number of attempts is reached.

### How It Works

1. **Initial Call**: The `aifixize` function receives a function and an optional number of attempts, starting with a flag indicating whether it’s handling an AI-generated code string (`isEvalFix`) and an error context.

2. **Execution Attempt**: If it’s not an AI-generated code (`isEvalFix` is false), `attemptCall` tries to run the function. If successful, the process ends. If there’s an error, the function proceeds to fix it.

3. **Code Fixing**: When an error occurs, `fixAndRetry` crafts a prompt for the AI (`OpenAI.chat`) describing the problematic function or code and the error. The AI returns a new code string, which `aifixize` then processes as a string via `attemptEval`.

4. **Recursive Loop**: If the AI-generated code is valid (`attemptEval` succeeds), `aifixize` recursively calls itself with the new function. If the AI code itself has errors, the process repeats, sending the faulty AI code back to the AI for further correction.

5. **Limit**: If the number of attempts runs out, `aifixize` logs a warning via `console.warn` and stops, returning `undefined`.

### Recursive Call Scheme

The recursion follows this pattern:

- `aifixize(fn, attempts, false, error)` → Tries to call `fn` via `attemptCall`.
  - If success: Done.
  - If failure: Calls `fixAndRetry(fn, error, attempts, false)` → AI generates new code → `aifixize(newCode, attempts - 1, true, error)`.

- `aifixize(newCode, attempts, true, error)` → Tries to eval `newCode` via `attemptEval`.
  - If success: Calls `aifixize(newFn, attempts - 1, false, null)` (resets error).
  - If failure: Calls `fixAndRetry(newCode, newError, attempts, true)` → AI fixes again → Repeat.

## Warning

**This code is a joke and not intended for serious use!** The author strongly advises against running `eval()` on code generated by a neural network in a real-world scenario. Doing so can pose security risks, including executing malicious code. The author takes no responsibility for any damage, security issues, or unintended consequences resulting from using this code. Use at your own risk, and remember: it’s just for laughs!
